/**
 * Bootstrap SideFlap
 * 2013-10-05
 */
+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=null,this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.sideflap",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.sideflap",'[data-dismiss="sideflap"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.sideflap",{relatedTarget:b});d?c.$element.find(".sideflap-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.sideflap"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.sideflap"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.sideflap"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideSideFlap,this)).emulateTransitionEnd(300):this.hideSideFlap())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.sideflap").on("focusin.bs.sideflap",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.sideflap",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.sideflap")},b.prototype.hideSideFlap=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.sideflap")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="sideflap-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.sideflap",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.sideflap;a.fn.sideflap=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.sideflap"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.sideflap",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.sideflap.Constructor=b,a.fn.sideflap.noConflict=function(){return a.fn.sideflap=c,this},a(document).on("click.bs.sideflap.data-api",'[data-toggle="sideflap"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("sideflap")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.sideflap(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.sideflap",".sideflap",function(){a(document.body).addClass("sideflap-open")}).on("hidden.bs.sideflap",".sideflap",function(){a(document.body).removeClass("sideflap-open")})}(window.jQuery);